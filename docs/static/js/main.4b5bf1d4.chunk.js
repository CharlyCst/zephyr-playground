(this.webpackJsonpplayground=this.webpackJsonpplayground||[]).push([[0],{17:function(e,n,t){},19:function(e,n,t){},20:function(e,n,t){},22:function(e,n,t){"use strict";t.r(n);var r=t(1),a=t.n(r),i=t(10),o=t.n(i),l=(t(17),t(7)),u=function(e){e&&e instanceof Function&&t.e(4).then(t.bind(null,30)).then((function(n){var t=n.getCLS,r=n.getFID,a=n.getFCP,i=n.getLCP,o=n.getTTFB;t(e),r(e),a(e),i(e),o(e)}))},c=t(0);o.a.render(Object(c.jsx)(a.a.StrictMode,{children:Object(c.jsx)(l.c,{})}),document.getElementById("root")),u()},6:function(e,n,t){(function(n){var t=function(e){var n=/\blang(?:uage)?-([\w-]+)\b/i,t=0,r={manual:e.Prism&&e.Prism.manual,disableWorkerMessageHandler:e.Prism&&e.Prism.disableWorkerMessageHandler,util:{encode:function e(n){return n instanceof a?new a(n.type,e(n.content),n.alias):Array.isArray(n)?n.map(e):n.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(e){return Object.prototype.toString.call(e).slice(8,-1)},objId:function(e){return e.__id||Object.defineProperty(e,"__id",{value:++t}),e.__id},clone:function e(n,t){var a,i;switch(t=t||{},r.util.type(n)){case"Object":if(i=r.util.objId(n),t[i])return t[i];for(var o in a={},t[i]=a,n)n.hasOwnProperty(o)&&(a[o]=e(n[o],t));return a;case"Array":return i=r.util.objId(n),t[i]?t[i]:(a=[],t[i]=a,n.forEach((function(n,r){a[r]=e(n,t)})),a);default:return n}},getLanguage:function(e){for(;e&&!n.test(e.className);)e=e.parentElement;return e?(e.className.match(n)||[,"none"])[1].toLowerCase():"none"},currentScript:function(){if("undefined"==typeof document)return null;if("currentScript"in document)return document.currentScript;try{throw new Error}catch(u){var e=(/at [^(\r\n]*\((.*):.+:.+\)$/i.exec(u.stack)||[])[1];if(e){var n=document.getElementsByTagName("script");for(var t in n)if(n[t].src==e)return n[t]}return null}},isActive:function(e,n,t){for(var r="no-"+n;e;){var a=e.classList;if(a.contains(n))return!0;if(a.contains(r))return!1;e=e.parentElement}return!!t}},languages:{extend:function(e,n){var t=r.util.clone(r.languages[e]);for(var a in n)t[a]=n[a];return t},insertBefore:function(e,n,t,a){var i=(a=a||r.languages)[e],o={};for(var l in i)if(i.hasOwnProperty(l)){if(l==n)for(var u in t)t.hasOwnProperty(u)&&(o[u]=t[u]);t.hasOwnProperty(l)||(o[l]=i[l])}var c=a[e];return a[e]=o,r.languages.DFS(r.languages,(function(n,t){t===c&&n!=e&&(this[n]=o)})),o},DFS:function e(n,t,a,i){i=i||{};var o=r.util.objId;for(var l in n)if(n.hasOwnProperty(l)){t.call(n,l,n[l],a||l);var u=n[l],c=r.util.type(u);"Object"!==c||i[o(u)]?"Array"!==c||i[o(u)]||(i[o(u)]=!0,e(u,t,l,i)):(i[o(u)]=!0,e(u,t,null,i))}}},plugins:{},highlightAll:function(e,n){r.highlightAllUnder(document,e,n)},highlightAllUnder:function(e,n,t){var a={callback:t,container:e,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};r.hooks.run("before-highlightall",a),a.elements=Array.prototype.slice.apply(a.container.querySelectorAll(a.selector)),r.hooks.run("before-all-elements-highlight",a);for(var i,o=0;i=a.elements[o++];)r.highlightElement(i,!0===n,a.callback)},highlightElement:function(t,a,i){var o=r.util.getLanguage(t),l=r.languages[o];t.className=t.className.replace(n,"").replace(/\s+/g," ")+" language-"+o;var u=t.parentElement;u&&"pre"===u.nodeName.toLowerCase()&&(u.className=u.className.replace(n,"").replace(/\s+/g," ")+" language-"+o);var c={element:t,language:o,grammar:l,code:t.textContent};function s(e){c.highlightedCode=e,r.hooks.run("before-insert",c),c.element.innerHTML=c.highlightedCode,r.hooks.run("after-highlight",c),r.hooks.run("complete",c),i&&i.call(c.element)}if(r.hooks.run("before-sanity-check",c),!c.code)return r.hooks.run("complete",c),void(i&&i.call(c.element));if(r.hooks.run("before-highlight",c),c.grammar)if(a&&e.Worker){var f=new Worker(r.filename);f.onmessage=function(e){s(e.data)},f.postMessage(JSON.stringify({language:c.language,code:c.code,immediateClose:!0}))}else s(r.highlight(c.code,c.grammar,c.language));else s(r.util.encode(c.code))},highlight:function(e,n,t){var i={code:e,grammar:n,language:t};return r.hooks.run("before-tokenize",i),i.tokens=r.tokenize(i.code,i.grammar),r.hooks.run("after-tokenize",i),a.stringify(r.util.encode(i.tokens),i.language)},tokenize:function(e,n){var t=n.rest;if(t){for(var u in t)n[u]=t[u];delete n.rest}var c=new i;return o(c,c.head,e),function e(n,t,i,u,c,s){for(var f in i)if(i.hasOwnProperty(f)&&i[f]){var g=i[f];g=Array.isArray(g)?g:[g];for(var h=0;h<g.length;++h){if(s&&s.cause==f+","+h)return;var d=g[h],p=d.inside,m=!!d.lookbehind,v=!!d.greedy,b=0,y=d.alias;if(v&&!d.pattern.global){var x=d.pattern.toString().match(/[imsuy]*$/)[0];d.pattern=RegExp(d.pattern.source,x+"g")}for(var k=d.pattern||d,w=u.next,j=c;w!==t.tail&&!(s&&j>=s.reach);j+=w.value.length,w=w.next){var O=w.value;if(t.length>n.length)return;if(!(O instanceof a)){var A=1;if(v&&w!=t.tail.prev){if(k.lastIndex=j,!(_=k.exec(n)))break;var S=_.index+(m&&_[1]?_[1].length:0),C=_.index+_[0].length,E=j;for(E+=w.value.length;E<=S;)E+=(w=w.next).value.length;if(j=E-=w.value.length,w.value instanceof a)continue;for(var N=w;N!==t.tail&&(E<C||"string"==typeof N.value);N=N.next)A++,E+=N.value.length;A--,O=n.slice(j,E),_.index-=j}else{k.lastIndex=0;var _=k.exec(O)}if(_){m&&(b=_[1]?_[1].length:0);S=_.index+b;var z=_[0].slice(b),P=(C=S+z.length,O.slice(0,S)),F=O.slice(C),L=j+O.length;s&&L>s.reach&&(s.reach=L);var M=w.prev;P&&(M=o(t,M,P),j+=P.length),l(t,M,A),w=o(t,M,new a(f,p?r.tokenize(z,p):z,y,z)),F&&o(t,w,F),1<A&&e(n,t,i,w.prev,j,{cause:f+","+h,reach:L})}}}}}}(e,c,n,c.head,0),function(e){for(var n=[],t=e.head.next;t!==e.tail;)n.push(t.value),t=t.next;return n}(c)},hooks:{all:{},add:function(e,n){var t=r.hooks.all;t[e]=t[e]||[],t[e].push(n)},run:function(e,n){var t=r.hooks.all[e];if(t&&t.length)for(var a,i=0;a=t[i++];)a(n)}},Token:a};function a(e,n,t,r){this.type=e,this.content=n,this.alias=t,this.length=0|(r||"").length}function i(){var e={value:null,prev:null,next:null},n={value:null,prev:e,next:null};e.next=n,this.head=e,this.tail=n,this.length=0}function o(e,n,t){var r=n.next,a={value:t,prev:n,next:r};return n.next=a,r.prev=a,e.length++,a}function l(e,n,t){for(var r=n.next,a=0;a<t&&r!==e.tail;a++)r=r.next;(n.next=r).prev=n,e.length-=a}if(e.Prism=r,a.stringify=function e(n,t){if("string"==typeof n)return n;if(Array.isArray(n)){var a="";return n.forEach((function(n){a+=e(n,t)})),a}var i={type:n.type,content:e(n.content,t),tag:"span",classes:["token",n.type],attributes:{},language:t},o=n.alias;o&&(Array.isArray(o)?Array.prototype.push.apply(i.classes,o):i.classes.push(o)),r.hooks.run("wrap",i);var l="";for(var u in i.attributes)l+=" "+u+'="'+(i.attributes[u]||"").replace(/"/g,"&quot;")+'"';return"<"+i.tag+' class="'+i.classes.join(" ")+'"'+l+">"+i.content+"</"+i.tag+">"},!e.document)return e.addEventListener&&(r.disableWorkerMessageHandler||e.addEventListener("message",(function(n){var t=JSON.parse(n.data),a=t.language,i=t.code,o=t.immediateClose;e.postMessage(r.highlight(i,r.languages[a],a)),o&&e.close()}),!1)),r;var u=r.util.currentScript();function c(){r.manual||r.highlightAll()}if(u&&(r.filename=u.src,u.hasAttribute("data-manual")&&(r.manual=!0)),!r.manual){var s=document.readyState;"loading"===s||"interactive"===s&&u&&u.defer?document.addEventListener("DOMContentLoaded",c):window.requestAnimationFrame?window.requestAnimationFrame(c):window.setTimeout(c,16)}return r}("undefined"!=typeof window?window:"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:{});e.exports&&(e.exports=t),"undefined"!=typeof n&&(n.Prism=t),function(e){for(var n="/\\*(?:[^*/]|\\*(?!/)|/(?!\\*)|<self>)*\\*/",t=0;t<2;t++)n=n.replace(/<self>/g,(function(){return n}));n=n.replace(/<self>/g,(function(){return"[^\\s\\S]"})),e.languages.zephyr={comment:[{pattern:RegExp("(^|[^\\\\])"+n),lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/b?"(?:\\[\s\S]|[^\\"])*"|b?r(#*)"(?:[^"]|"(?!\1))*"\1/,greedy:!0},"fragment-specifier":{pattern:/(\$\w+:)[a-z]+/,lookbehind:!0,alias:"punctuation"},variable:/\$\w+/,"function-definition":{pattern:/(\bfun\s+)\w+/,lookbehind:!0,alias:"function"},"module-declaration":[{pattern:/(\b(?:module)\s+)[a-z][a-z_\d]*/,lookbehind:!0,alias:"namespace"}],attribute:{pattern:/#!?\[(?:[^\[\]"]|"(?:\\[\s\S]|[^\\"])*")*\]/,greedy:!0,alias:"attr-name",inside:{string:null}},keyword:[/\b(?:module|standalone|runtime|import|expose|from|pub|else|fun|if|let|return|struct|use|while)\b/,/\b(?:[ui](?:32|64)|f(?:32|64)|bool)\b/],function:/\b(pub\s+)[a-z_]\w*(?=\s*(?:::\s*<|\())/,constant:/\b[A-Z_][A-Z_\d]+\b/,number:/\b(?:0x[\dA-Fa-f](?:_?[\dA-Fa-f])*|0o[0-7](?:_?[0-7])*|0b[01](?:_?[01])*|(?:\d(?:_?\d)*)?\.?\d(?:_?\d)*(?:[Ee][+-]?\d+)?)(?:_?(?:[iu](?:8|16|32|64|size)?|f32|f64))?\b/,boolean:/\b(?:false|true)\b/,punctuation:/->|\.\.=|\.{1,3}|::|[{}[\];(),:]/,operator:/[-+*\/%!^]=?|=[=>]?|&[&=]?|\|[|=]?|<<?=?|>>?=?|[@?]/},e.languages.zph=e.languages.zephyr}(t)}).call(this,t(8))},7:function(e,n,t){"use strict";t.d(n,"b",(function(){return m})),t.d(n,"d",(function(){return r})),t.d(n,"a",(function(){return a}));var r,a,i=t(2),o=t.n(i),l=t(12),u=t(3),c=t(5),s=t(1),f=t(11),g=t.n(f),h=t(6),d=(t(19),t(20),t(0)),p="module playground\n\nexpose main\n\nfun main(): i32 {\n    return pow(2, 10)\n}\n\nfun pow(a: i32, b: i32): i32 {\n    if b == 0 {\n        return 1\n    }\n\n    let n = b\n    let x = a\n    let acc = 1\n\n    while n > 1 {\n        if n % 2 == 1 {\n            acc = acc * x\n        }\n        x = x * x\n        n = n / 2\n    }\n    return x * acc\n}\n",m=p;function v(){return(v=Object(c.a)(o.a.mark((function e(n,t){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,void 0!==(r=n.compile())){e.next=4;break}return e.abrupt("return");case 4:b(r,t),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function b(e,n){return y.apply(this,arguments)}function y(){return(y=Object(c.a)(o.a.mark((function e(n,t){var r,i,l;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,WebAssembly.instantiate(n);case 2:r=e.sent,i=r.instance.exports,1===(l=Object.keys(i).filter((function(e){return"function"==typeof i[e]})).map((function(e){var n=i[e];return{name:e,len:n.length||0,ref:n}}))).length&&(t("> ".concat(l[0].name,"()"),a.input),t("".concat(l[0].ref()),a.output));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(e){var n=e.onCompile?e.onCompile:function(){};return Object(d.jsxs)("div",{className:"ConsoleContainer",children:[Object(d.jsx)("div",{className:"Console",children:e.state.lines.map((function(e){return Object(d.jsx)("div",{className:"ConsoleText ".concat(k(e.kind)),children:e.content},e.id)}))}),Object(d.jsx)("button",{className:"CompileButton",onClick:n,disabled:!n,children:"Compile"})]})}function k(e){switch(e){case a.error:return"TextError";case a.output:return"TextOutput";case a.input:return""}}!function(e){e[e.input=1]="input",e[e.output=2]="output",e[e.error=3]="error"}(a||(a={})),n.c=function(){var e=Object(s.useState)(p),n=Object(u.a)(e,2),a=n[0],i=n[1],o=Object(s.useState)({lines:[],counter:0}),c=Object(u.a)(o,2),f=c[0],b=c[1],y=Object(s.useState)(),k=Object(u.a)(y,2),w=k[0],j=k[1];Object(s.useEffect)((function(){t.e(3).then(t.bind(null,23)).then((function(e){j(e)})).catch((function(e){return console.log(e)}))}),[]);var O=function(e,n){f.lines.push({id:f.counter,content:e,kind:n}),f.counter+=1,b(Object(l.a)({},f))};return r=O,Object(d.jsxs)("div",{className:"App",children:[Object(d.jsx)("h1",{children:"Zephyr playground"}),Object(d.jsxs)("div",{className:"row-container",children:[Object(d.jsx)(g.a,{value:a,onValueChange:function(e){i(e),m=e},highlight:function(e){return Object(h.highlight)(e,h.languages.zph)},padding:10,style:{fontFamily:'"Fira code", "Fira Mono", monospace',fontSize:16},className:"Editor"}),Object(d.jsx)(x,{state:f,onCompile:w?function(){return function(e,n){return v.apply(this,arguments)}(w,O)}:void 0})]})]})}}},[[22,1,2]]]);
//# sourceMappingURL=main.4b5bf1d4.chunk.js.map